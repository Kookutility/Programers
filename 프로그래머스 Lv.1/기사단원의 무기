def solution(number, limit, power):
    weapon_powers = []  # 각 기사의 무기 공격력을 저장하는 리스트

    for knight_number in range(1, number + 1):  # 1부터 number까지의 기사 번호에 대해 반복
        divisor_count = 0

        for divisor_candidate in range(1, int(knight_number ** (1/2)) + 1):
            if knight_number % divisor_candidate == 0:
                divisor_count += 1

                if divisor_candidate ** 2 != knight_number:
                    divisor_count += 1

            if divisor_count > limit:
                weapon_powers.append(power)   # 공격력 제한을 초과하는 경우 power를 추가
                break
        
        else:   # break가 실행되지 않은 경우 (공격력 제한을 초과하지 않은 경우)
            weapon_powers.append(divisor_count)   # 약수 개수를 무기 공격력으로 추가
    
    total_weight = sum(weapon_powers)   # 필요한 철의 총 무게 계산
    return total_weight
